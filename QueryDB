

CREATE TABLE sch_tda_inclusion.inclusion (
    id_estudiante              INTEGER NOT NULL,
    id_inclusion               SERIAL,
    id_anno                    INTEGER NOT NULL,
    id_modalidad               VARCHAR(25 ) NOT NULL,
    id_periodo                 INTEGER NOT NULL,
    id_depto                   VARCHAR(50 ) NOT NULL,
    id_sede                    VARCHAR(50 ) NOT NULL,
    id_materia                 VARCHAR(50 ) NOT NULL,
    id_grupo                   INTEGER NOT NULL,
    comentario_asunto          VARCHAR(200 ) ,
    comentario_mensaje         VARCHAR(500 ) ,
    estado                     VARCHAR(10 ) NOT NULL
);

ALTER TABLE sch_tda_inclusion.inclusion ADD CONSTRAINT inclusion_pk PRIMARY KEY ( id_inclusion );



INSERT INTO sch_tda_inclusion.inclusion (id_estudiante,id_anno,id_modalidad,id_periodo,id_depto,id_sede,id_materia,id_grupo,comentario_asunto,comentario_mensaje,estado) VALUES (:estudiante_id,:anno_id,:modalidad_id, :periodo_id, :depto_id, :sede_id, :materia_id, :id_grupo, :comentario_asunto, :comentario_mensaje, :estado);

SELECT i.id_anno, i.id_depto, i.id_sede, i.id_materia, i.id_grupo, i.comentario_asunto, i.comentario_mensaje, i.estado 
                FROM sch_tda_inclusion.inclusion i WHERE i.id_estudiante = :estudiante_id and i.id_modalidad = :modalidad_id and i.id_periodo = :periodo_id  and i.id_anno = :anno_id;

SELECT i.id_anno, i.id_depto, i.id_sede, i.id_materia, i.id_grupo, i.comentario_asunto, i.comentario_mensaje, i.estado FROM sch_tda_inclusion.inclusion i WHERE i.id_modalidad = ' SEMESTRE ' and i.id_periodo = 1;




