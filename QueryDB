CREATE TABLE sch_tda_inclusion.comentario (
    asunto                   VARCHAR(100 ) NOT NULL,
    mensaje                  VARCHAR(250 ) NOT NULL,
    id_comentario            SERIAL,
    inclusion_id_inclusion   INTEGER NOT NULL
);

ALTER TABLE sch_tda_inclusion.comentario ADD CONSTRAINT comentario_pk PRIMARY KEY ( id_comentario );

CREATE TABLE sch_tda_inclusion.inclusion (
    id_estudiante              INTEGER NOT NULL,
    id_inclusion               SERIAL,
    id_anno                    INTEGER NOT NULL,
    id_modalidad               VARCHAR(5 ) NOT NULL,
    id_periodo                 INTEGER NOT NULL,
    id_depto                   VARCHAR(5 ) NOT NULL,
    id_sede                    VARCHAR(4 ) NOT NULL,
    id_materia                 VARCHAR(10 ) NOT NULL,
    id_grupo                   INTEGER NOT NULL
);

ALTER TABLE sch_tda_inclusion.inclusion ADD CONSTRAINT inclusion_pk PRIMARY KEY ( id_inclusion );

ALTER TABLE sch_tda_inclusion.comentario
    ADD CONSTRAINT comentario_inclusion_fk FOREIGN KEY ( inclusion_id_inclusion )
        REFERENCES sch_tda_inclusion.inclusion ( id_inclusion );


INSERT INTO sch_tda_inclusion.inclusion (id_estudiante,id_anno,id_modalidad,id_periodo,id_depto,id_sede,id_materia,id_grupo) VALUES (:estudiante_id,:anno_id,:modalidad_id, :periodo_id, :depto_id, :sede_id, :materia_id, :id_grupo);


INSERT INTO sch_tda_inclusion.comentario (asunto, mensaje,inclusion_id_inclusion) VALUES (:asunto, :mensaje, :inclusion_id);

